# 페어 트레이딩
- Ornstein-Uhlenbeck 프로세스를 활용한 빈도 기반 페어 트레이딩
- 바이낸스 API를 이용한 코인 선물 시장에서의 백테스팅 및 실거래
- 바이낸스 선물 시장에서 6개월 이상 상장되어 있는 종목들로만 유니버스를 구성
- 5분봉 가격 데이터를 활용

### 전략 요소

1. **페어 선정 프로세스**:
   - 일차적인 상관관계 기반 필터링
   - 평균회귀 이벤트 빈도 기반 필터링 후 상위 30개 페어 추출
   - 반감기 추정 후 반감기가 짧은 5개의 페어를 거래할 페어로 선정

2. **트레이딩 로직**:
   - Z-score와 Z-score std 그리고 세 개의 시점을 활용하여 거래 임계치를 설정
   - 동적으로 임계치를 업데이트하고 반감기를 거래 임계치의 Lookback 기간으로 사용
   - 거래하는 5개의 페어 간 중복되는 종목에 대해 포지션이 충돌하는 예외 상황 처리

3. **리스크 관리**:
   - 각 페어에 대해 EQW로 동일 자본 할당
   - 거래하는 한 달 동안 각 페어는 할당된 자본으로 계속 거래
   - 페어 내의 종목 간의 비중은 베타 값을 따름

### Key Parameters
- 페어 선정 참조 기간: 6개월
- 선정된 페어의 거래 기간: 1개월
- 거래 임계치 산출 시 참조 기간: 반감기 값

### 백테스팅 결과
- 24년 1월부터 25년 4월 중순까지 1년 4개월 동안의 백테스팅 성과를 분석
- 나머지 부분은 동일하되, 이벤트 빈도를 측정하는 부분을 일반적인 공적분을 활용해서 필터링하는 전략과의 성과를 비교

<img width="443" alt="image" src="https://github.com/user-attachments/assets/ba8b4ea2-5368-4f59-9587-78ab33a613f8" />

| Strategy | Cumulative Return (%) | Sharpe Ratio | MDD |
|----------|-----------------------|--------------|-----|
|   공적분   |          0.82  | 1.22 | -0.455
|    빈도   | 3.99  | 3.11 | -0.028

### 1차 실거래 로그 및 보완점 (5/28 기준 업데이트)
- 5/15 : 210달러를 가지고 실거래 시작
- 5/15 : exit condition을 만족해도 주문이 실행되지 않는 오류를 수정
- 5/28 : 페어당 자본 업데이트 문제로 인한 Margin is insufficient 오류 수정
- 5/15 ~ 5/28 실거래 결과 : 214 -> 222달러
- 오류 수정하면서 증액, 시작 자본 = 827달러

### 2차 실거래 로그 및 보완점 (추후 업데이트 예정)

![image](https://github.com/user-attachments/assets/c5a6088e-bbb5-4d16-b22e-d0745b4be214)



